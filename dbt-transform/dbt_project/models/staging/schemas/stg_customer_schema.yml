version: 2

models:
  - name: stg_customer
    description: "Staging table for customers data"
    columns:
      - name: id
        description: "Unique identifier for each customer"
        data_tests:
          - not_null
          - unique

      - name: first_name
        description: "Customer's first name"
        data_tests:
          - not_null

      - name: last_name
        description: "Customer's last name"
        data_tests:
          - not_null

      - name: email
        description: "Customer's email address"
        data_tests:
          - not_null
          - unique
          - email_validation:
              arguments:
                column_name: email
              store_failures: true
              schema: testing
              limit: 10

      - name: created_at
        description: "Timestamp when the customer was created"
        data_tests:
          - not_null

      - name: phone_number
        description: "Customer's phone number"
        data_tests:
          - not_null